(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app.level"],{"18a8":function(t,e,a){},"5c6d":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return 1<=t.t&&t.t<=6?a("img",{staticClass:"no-pe item-t",attrs:{src:t.$root.materialImage("T"+t.t),crossorigin:"anonymous"}}):t._e()},n=[],s=(a("a9e3"),{name:"arkn-item-t",props:{t:[Number,String]}}),l=s,r=(a("e7a1"),a("2877")),u=Object(r["a"])(l,i,n,!1,null,"0b560d48",null);e["a"]=u.exports},"709f":function(t,e,a){},"73e0":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"arkn-level"}},[a("div",{staticClass:"mdui-row"},[a("div",{staticClass:"mdui-col-md-5"},[a("table",{staticClass:"mdui-table tag-table",staticStyle:{overflow:"hidden"}},[a("tbody",[a("tr",[a("td",{attrs:{width:"1"}}),a("td",{staticClass:"mdui-valign"},[a("div",{staticClass:"with-label mdui-m-r-3"},[a("label",{staticClass:"mdui-textfield-label"},[t._v(t._s(t.$t("common.stars")))]),a("mdui-select-num",{attrs:{options:t.l.range(6,0)},on:{change:t.updateSelect},model:{value:t.inputs.star,callback:function(e){t.$set(t.inputs,"star",e)},expression:"inputs.star"}})],1),a("div",{staticClass:"with-label mdui-m-r-3"},[a("label",{staticClass:"mdui-textfield-label"},[t._v(t._s(t.$tt("level.经验本")))]),a("span",[t._v("LS-5")])]),a("div",{staticClass:"with-label"},[a("label",{staticClass:"mdui-textfield-label"},[t._v(t._s(t.$tt("level.金币本")))]),a("span",[t._v("CE-5")])])])]),a("tr",[a("td",{attrs:{width:"1"}},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.tagBtnHead,expression:"$root.color.tagBtnHead"}],staticClass:"mdui-btn mdui-btn-dense no-pe tag-btn tag-table-header"},[t._v(t._s(t.$t("common.current")))])]),a("td",{staticClass:"mdui-valign"},[a("div",{staticClass:"with-label mdui-m-r-3"},[a("label",{staticClass:"mdui-textfield-label"},[t._v(t._s(t.$t("common.promotion")))]),a("mdui-select-num",{staticClass:"select-need-update",attrs:{options:t.l.range(0,t.maxElite[t.inputs.star-1]+1)},on:{change:t.updateSelect},model:{value:t.inputs.current.elite,callback:function(e){t.$set(t.inputs.current,"elite",e)},expression:"inputs.current.elite"}})],1),a("div",{staticClass:"mdui-m-r-2 input-with-button"},[a("mdui-number-input",{model:{value:t.inputs.current.level,callback:function(e){t.$set(t.inputs.current,"level",t._n(e))},expression:"inputs.current.level"}},[t._v(t._s(t.$t("common.level")))]),a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.pinkText,expression:"$root.color.pinkText"}],staticClass:"mdui-btn mdui-ripple mdui-btn-dense small-btn mdui-p-x-1",on:{click:function(e){t.inputs.current.level=999}}},[t._v(t._s(t.$t("common.max")))])],1),a("mdui-number-input",{staticStyle:{width:"80px"},model:{value:t.inputs.current.exp,callback:function(e){t.$set(t.inputs.current,"exp",t._n(e))},expression:"inputs.current.exp"}},[t._v(t._s(t.$t("common.exp")))])],1)]),a("tr",[a("td",{attrs:{width:"1"}},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.tagBtnHead,expression:"$root.color.tagBtnHead"}],staticClass:"mdui-btn mdui-btn-dense no-pe tag-btn tag-table-header"},[t._v(t._s(t.$t("common.target")))])]),a("td",{staticClass:"mdui-valign"},[a("div",{staticClass:"with-label mdui-m-r-3"},[a("label",{staticClass:"mdui-textfield-label"},[t._v(t._s(t.$t("common.promotion")))]),a("mdui-select-num",{staticClass:"select-need-update",attrs:{options:t.l.range(t.inputs.current.elite,t.maxElite[t.inputs.star-1]+1)},on:{change:t.updateSelect},model:{value:t.inputs.target.elite,callback:function(e){t.$set(t.inputs.target,"elite",e)},expression:"inputs.target.elite"}})],1),a("div",{staticClass:"input-with-button"},[a("mdui-number-input",{model:{value:t.inputs.target.level,callback:function(e){t.$set(t.inputs.target,"level",t._n(e))},expression:"inputs.target.level"}},[t._v(t._s(t.$t("common.level")))]),a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.pinkText,expression:"$root.color.pinkText"}],staticClass:"mdui-btn mdui-ripple mdui-btn-dense small-btn mdui-p-x-1",on:{click:function(e){t.inputs.target.level=999}}},[t._v(t._s(t.$t("common.max")))])],1)])]),a("tr",[a("td",{attrs:{width:"1"}},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.tagBtnHead,expression:"$root.color.tagBtnHead"}],staticClass:"mdui-btn mdui-btn-dense no-pe tag-btn tag-table-header"},[t._v(t._s(t.$t("common.have")))])]),a("td",{staticClass:"mdui-valign",style:{marginRight:"-16px",marginBottom:"-8px"}},[t._l(t.l.range(5,1),(function(e){return a("div",{key:"have-"+e,staticClass:"mdui-m-r-2 mdui-m-b-1 mdui-valign"},[a("arkn-item",{attrs:{t:e,img:"E-"+e+"-1"}}),a("mdui-number-input",{staticClass:"exp-input",model:{value:t.inputs.have[e],callback:function(a){t.$set(t.inputs.have,e,t._n(a))},expression:"inputs.have[i]"}},[t._v(t._s(t.$t("item."+t.expId[e-2])))])],1)})),a("div",{staticClass:"mdui-m-r-2 mdui-m-b-1 mdui-valign"},[a("arkn-item",{attrs:{t:"4",img:"G-4-1"}}),a("mdui-number-input",{staticClass:"exp-input",staticStyle:{width:"80px"},model:{value:t.inputs.money,callback:function(e){t.$set(t.inputs,"money",t._n(e))},expression:"inputs.money"}},[t._v(t._s(t.$t("item.4001")))])],1)],2)]),a("tr",[a("td",{attrs:{width:"1"}},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.redBtn,expression:"$root.color.redBtn"}],staticClass:"mdui-btn mdui-ripple mdui-btn-dense tag-btn tag-table-header",on:{click:t.reset}},[t._v(t._s(t.$t("common.reset")))])])])])])]),a("div",{staticClass:"mdui-col-md-7 mdui-p-x-2 mdui-typo"},[a("h2",{staticClass:"mdui-hidden-sm-down mdui-m-t-0"},[t._v(t._s(t.$tt("level.至少需要")))]),a("h2",{staticClass:"mdui-hidden-md-up"},[t._v(t._s(t.$tt("level.至少需要")))]),a("div",{staticClass:"num-item-list"},[a("arkn-num-item",{attrs:{t:"5",img:"EO-4-1",lable:t.$t("common.exp"),num:t.result.exp}}),a("arkn-num-item",{staticClass:"mdui-m-r-0",attrs:{t:"4",img:"G-4-1",lable:t.$t("item.4001")+"("+t.$t("common.total")+")",num:t.result.cost}}),t.inputs.money?a("arkn-num-item",{attrs:{t:"4",img:"G-4-1",lable:t.$t("item.4001")+"("+t.$t("common.lack")+")",num:t.ge0(t.result.cost-t.inputs.money)}}):t._e()],1),a("h2",[t._v(t._s(t.$tt("level.物资筹备")))]),a("h3",{staticClass:"mdui-m-t-0"},[t._v("LS-5 "),a("small",[t._v("× "+t._s(t.result.ls5))])]),a("div",{staticClass:"num-item-list"},[a("arkn-num-item",{attrs:{t:"0",img:"AP",lable:t.$t("item.AP_GAMEPLAY"),num:30*t.result.ls5}}),t._l([5,4,3],(function(e){return a("arkn-num-item",{key:"ls5-"+e,attrs:{t:e,img:"E-"+e+"-1",lable:t.$t("item."+t.expId[e-2]),num:t.result.ls5*t.LS5.drop[e]}})})),a("arkn-num-item",{attrs:{t:"4",img:"G-4-1",lable:t.$t("item.4001"),num:t.result.ls5*t.LS5.money}})],2),a("h3",[t._v("CE-5 "),a("small",[t._v("× "+t._s(t.result.ce5))])]),a("div",{staticClass:"num-item-list"},[a("arkn-num-item",{attrs:{t:"0",img:"AP",lable:t.$t("item.AP_GAMEPLAY"),num:30*t.result.ce5}}),a("arkn-num-item",{attrs:{t:"4",img:"G-4-1",lable:t.$t("item.4001"),num:t.result.ce5*t.CE5.money}})],1),a("h2",[t._v(t._s(t.$tt("level.预计消耗"))+" "),a("small",[t._v(t._s(t.$t("common.need"))+" / "+t._s(t.$t("common.have")))])]),a("div",{staticClass:"num-item-list"},t._l([5,4,3,2],(function(e){return a("arkn-num-item",{key:"num-item-"+e,attrs:{t:e,img:"E-"+e+"-1",lable:t.$t("item."+t.expId[e-2]),num:t.result.use[e]+" / "+t.result.have[e]}})})),1)])])])},n=[],s=(a("d81d"),a("07ac"),a("b85c")),l=a("8679"),r=a("b4ac"),u=a("60bb"),m=a.n(u),c=a("9a9a"),o={5:2e3,4:1e3,3:400,2:200},d={exp:7400,drop:{5:3,4:1,3:1,2:0},money:360},p={money:7500},v={star:6,current:{elite:0,level:1,exp:0},target:{elite:0,level:1},have:{5:0,4:0,3:0,2:0},money:0};function h(t){return Math.max(t,0)}var b={name:"arkn-level",components:{ArknItem:l["a"],ArknNumItem:r["a"]},data:function(){return{l:m.a,inputs:m.a.cloneDeep(v),expId:["2001","2002","2003","2004"],maxElite:m.a.map(c["c"],(function(t){return t.length})),maxLevel:c["d"],LS5:d,CE5:p}},watch:{inputs:{handler:function(t){for(var e=t.star,a=t.current,i=0,n=["current","target"];i<n.length;i++){var s=n[i],l="".concat(s,".level"),r=m.a.get(t,l);if(""!==r){var u=c["d"][e-1][t[s].elite];r<1?m.a.set(t,l,1):r>u&&m.a.set(t,l,u)}}if(a.exp){a.exp<0&&(a.exp=0);var o=c["a"][a.elite][(a.level||1)-1]||1;a.exp>=o&&(a.exp=o-1)}m.a.each(t.have,(function(t,e,a){t&&t<0&&(a[e]=0)})),localStorage.setItem("level.inputs",JSON.stringify(t))},deep:!0}},computed:{result:function(){var t=this.inputs,e=t.star,a=t.current,i=t.target,n=t.have,l=t.money,r=c["d"][e-1],u=m.a.sum(m.a.map(n,(function(t,e){return t*o[e]}))),v=0,b=0,g=[],f={5:0,4:0,3:0,2:0};if(i.elite>a.elite||i.level>a.level){var _=c["a"][a.elite][a.level-1];if(_){var x=_-a.exp,$=x/_*c["b"][a.elite][a.level-1];v+=x,b+=$}for(var C=a.elite;C<=i.elite;C++,g.push(v)){C>a.elite&&(b+=c["c"][e-1][C-1]);for(var k=C==i.elite?i.level:r[C],w=C==a.elite?a.level+1:1;w<k;w++)v+=c["a"][C][w-1],b+=c["b"][C][w-1]}}var y=h(Math.ceil((v-u)/d.exp));if(g.length>0){m.a.forEachRight(g,(function(t,e,a){e>0&&(a[e]-=a[e-1])}));var S,E=m.a.mapValues(d.drop,(function(t,e){return n[e]+t*y})),N=Object(s["a"])(g);try{for(N.s();!(S=N.n()).done;){var A=S.value;while(A>0){0==m.a.sum(Object.values(E))&&(y++,E=m.a.cloneDeep(d.drop));for(var I=5;I>=2;I--)while(A>=o[I]&&E[I]>0)f[I]++,E[I]--,A-=o[I];for(var B=2;B<=5;B++)while(A>0&&E[B]>0)f[B]++,E[B]--,A-=o[B]}}}catch(O){N.e(O)}finally{N.f()}}var T=h(Math.ceil((b-y*d.money-l)/p.money));return{exp:v,cost:Math.ceil(b),ls5:y,ce5:T,use:f,have:m.a.mapValues(d.drop,(function(t,e){return n[e]+t*y}))}}},methods:{ge0:h,updateSelect:function(){var t=this,e=this.inputs,a=e.star,i=e.current,n=e.target,s=this.maxElite[a-1];i.elite>s&&(i.elite=s),n.elite>s&&(n.elite=s),i.elite>n.elite&&(n.elite=i.elite),this.$nextTick((function(){return t.$$(".select-need-update").each((function(e,a){return new t.$Select(a).handleUpdate()}))}))},reset:function(){var t=this;this.inputs=m.a.cloneDeep(v),this.$nextTick((function(){return t.$$(".select-need-update").each((function(e,a){return new t.$Select(a).handleUpdate()}))}))}},created:function(){var t=localStorage.getItem("level.inputs");t&&(this.inputs=JSON.parse(t))}},g=b,f=(a("840d"),a("2877")),_=Object(f["a"])(g,i,n,!1,null,null,null);e["default"]=_.exports},"840d":function(t,e,a){"use strict";var i=a("709f"),n=a.n(i);n.a},8679:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"arkn-item no-sl mdui-m-r-1 mdui-valign"},[a("arkn-item-t",{attrs:{t:t.t}}),a("div",{staticClass:"mdui-valign item-img-div",style:"width:"+t.width+"px;height:"+t.width+"px"},[a("img",{staticClass:"no-pe item-img",style:"transform:scale("+t.scale+")",attrs:{src:t.$root.materialImage(t.img),crossorigin:"anonymous"}})])],1)},n=[],s=(a("a9e3"),a("5c6d")),l={name:"arkn-item",components:{ArknItemT:s["a"]},computed:{scale:function(){return this.width/180}},props:{t:[Number,String],img:String,width:{type:Number,default:48}}},r=l,u=(a("da3e"),a("2877")),m=Object(u["a"])(r,i,n,!1,null,"49a764eb",null);e["a"]=m.exports},9541:function(t,e,a){"use strict";var i=a("18a8"),n=a.n(i);n.a},a8b1:function(t,e,a){},b4ac:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"num-item"},[a("div",{staticClass:"mdui-valign"},[a("arkn-item",{attrs:{t:t.calcT,img:t.img,width:t.width}}),a("div",{staticClass:"with-label",class:t.color},[a("label",{staticClass:"mdui-textfield-label mdui-text-truncate"},[t._v(t._s(t.lable))]),"undefined"!=typeof t.num?a("span",[t._v(t._s(t.num))]):a("span",[t._t("default")],2)])],1)])},n=[],s=(a("a9e3"),a("ac1f"),a("8679")),l={name:"arkn-num-item",components:{ArknItem:s["a"]},computed:{calcT:function(){if(this.t)return this.t;var t=/-(.+)-/.exec(this.img);return!!t&&t[1]}},props:{t:[Number,String],img:String,lable:String,num:[Number,String],width:Number,color:[String,Boolean]}},r=l,u=(a("9541"),a("2877")),m=Object(u["a"])(r,i,n,!1,null,null,null);e["a"]=m.exports},da3e:function(t,e,a){"use strict";var i=a("a8b1"),n=a.n(i);n.a},e35a:function(t,e,a){},e7a1:function(t,e,a){"use strict";var i=a("e35a"),n=a.n(i);n.a}}]);